.\" Do *not* edit this file; it was automatically generated by ej2man
.\" Look for a name.ej file with the same name as this filename
.\"
.\" Process this file with the following
.\" nroff -man -Tutf8 maradns.8 | tr '\020' ' '
.\"
.\" Last updated Mon Jan  7 21:10:48 2019
.\"
.TH MARADNS 8 "January 2002" MARADNS "MaraDNS reference"
.\" We don't want hyphenation (it's too ugly)
.\" We also disable justification when using nroff
.\" Due to the way the -mandoc macro works, this needs to be placed
.\" after the .TH heading
.hy 0
.if n .na
.\"
.\" We need the following stuff so that we can have single quotes
.\" In both groff and other UNIX *roff processors
.if \n(.g .mso www.tmac
.ds aq \(aq
.if !\n(.g .if '\(aq'' .ds aq \'


.nf
Erre con erre cigarro
Erre con erre barril
R\('apido ruedan los carros
En el ferrocarril
.fi

.SH "NAME"
.PP
maradns - DNS server
.SH "SYNOPSIS"
.PP
.B "maradns [ -v | -f mararc_file_location ]"
.SH "TABLE OF CONTENTS"
.PP
This man page has the following sections:
.PP
.RS 4

.nf
Name 
Synopsis
Table of Contents
Description
Usage
Firewall Configuration
Frequently Asked Questions
Bugs
Unimplemented Features
Legal Disclaimer
Authors
.fi

.RE
.PP
.SH "DESCRIPTION"
.PP
.B "maradns"
is a DNS server written with security, simplicity, and performance in
mind.
.PP
.B "maradns"
has two forms of arguments, both of which are optional.
.PP
The first is the location of a
.B "mararc"
file which MaraDNS obtains all configuration information from.
The default location of this file is
.BR "/etc/mararc" "."
This is specified in the form
.BR "maradns -f mararc_file_location" ";"
.I "mararc_file_location"
is the location of the mararc file.
.PP
It is also possible to have MaraDNS display the version number and
exit. This is specified by invoking maradns in the form
.B "maradns -v"
or
.B "maradns --version"
.SH "USAGE"
.PP
MaraDNS consists of two programs: maradns, an authoritative-only
nameserver,
and Deadwood, a recursive name server. Deadwood has its own man page.
.PP
In order for MaraDNS to function as an authoritative nameserver, two
or more files need to be set up: the mararc file and one or more "csv2"
(or "csv1") zone files.
.PP
The format of a csv2 zone file can be obtained from the
.B "csv2(5)"
manual page. The configuration format of the mararc file can be
obtained
from the
.B "mararc(5)"
manual page.
.PP
In order to have MaraDNS run as a daemon, the duende program is used to
daemonize MaraDNS. See the
.B "duende(8)"
manual page for details.
.SH "FIREWALL CONFIGURATION"
.PP
When using the maradns authoritative nameserver, allow UDP
connections from all hosts on the internet to UDP port 53 for the IP
that the authoritative nameserver uses.
.PP
When using the Deadwood recursive nameserver:
.TP 2
*
Allow UDP connections from the Deadwood server to any
machine on the internet where the UDP destination port is 53
.TP 2
*
Allow UDP connections from any machine on the internet to the IP of the
recursive server, where the source port from the remote server is 53,
and the
destination port is between 15000 and 19095 (inclusive)
.TP 2
*
Allow UDP connections from IPs that use Deadwood as a recursive DNS
server
to port 53
.PP
Deadwood uses a strong secure RNG (RadioGatun[32]) for both the query
(16
bits of entropy) and the source port of the query (12 bits of entropy).
This makes spoofing replies to a Deadwood recursive server more
difficult,
since the attacker has only a one in 250 million chance that a given
spoofed reply will be considered valid.
.PP
.SH "FREQUENTLY ASKED QUESTIONS"
.PP
.PP
.in -3
\fBINDEX\fR
.PP
.PP
.RS 4
1. I\(aqm using an older version of MaraDNS
.PP
2. How do I try out MaraDNS?
.PP
3. What license is MaraDNS released under?
.PP
4. How do I report bugs in MaraDNS?
.PP
5. Some of the postings to the mailing list do not talk
about MaraDNS!
.PP
6. How do I get off the mailing list?
.PP
7. How do I set up reverse DNS on MaraDNS?
.PP
8. I am on a slow network, and MaraDNS can not process
recursive queries
.PP
9. When I try to run MaraDNS, I get a
cryptic error message.
.PP
10. After I start MaraDNS, I can not see the process
when I run netstat -na
.PP
11. What string library does MaraDNS use?
.PP
12. Why does MaraDNS use a multi-threaded model?
.PP
13. I feel that XXX feature should be added to MaraDNS
.PP
14. I feel that MaraDNS should use another documentation
format
.PP
15. Is there any process I need to follow to add a patch
to MaraDNS?
.PP
16. Can MaraDNS act as a primary nameserver?
.PP
17. Can MaraDNS act as a secondary nameserver?
.PP
18. What is the difference between an authoritative and
a recursive DNS server?
.PP
19. The getzone client isn\(aqt allowing me to add certain
hostnames to my zone
.PP
20. Is MaraDNS portable?
.PP
21. Can I use MaraDNS in Windows?
.PP
22. MaraDNS freezes up after being used for a while
.PP
23. What kind of Python integration does MaraDNS have
.PP
24. Doesn\(aqt "kvar" mean "four" in Esperanto?
.PP
25. How scalable is MaraDNS?
.PP
26. I am having problems setting
upstream_servers
.PP
27. Why doesn\(aqt the MaraDNS.org web page validate?
.PP
28. How do MX records work?
.PP
29. Does MaraDNS have support for SPF?
.PP
30. I\(aqm having problems resolving CNAMES I have set up.
.PP
31. I have a NS delegation, and MaraDNS is doing
strange things.
.PP
32. I am transferring a zone from another
server, but the NS records are these strange "synth-ip" records.
.PP
33. Where is the root.hints file?
.PP
34. Are there any plans to use autoconf to build
MaraDNS?
.PP
35. How do I change the compiler or compile-time flags
with MaraDNS\(aq build process?
.PP
36. Will you make a package for the particular Linux
distribution I am using?
.PP
37. I am using the native Windows port of MaraDNS,
and some features are not working.
.PP
38. MaraDNS isn\(aqt starting up
.PP
39. You make a lot of releases of MaraDNS; at our
ISP/IT department, updating software is non-trivial.
.PP
40. I have star records in my zones, and am having
problems with NXDOMAINs/IPV6 resolution
.PP
41. I have a zone with only SOA/NS records, and the
zone is not working.
.PP
42. I am having problems registering my domain with AFNIC
(the registrar for .fr domains)
.PP
43. I can\(aqt see the full answers for subdomains I have
delegated
.PP
44. MaraDNS 1 has a problem resolving a domain
.PP
45. MaraDNS 1.2 has issues with NXDOMAINS and
case sensitivity.
.PP
46. Can MaraDNS offer protection from phishing and
malicious sites?
.PP
47. Does maradns support star (wildcard) records?
.PP
48. I\(aqm having problems using MaraDNS with some *NIX
command line applications like telnet
.PP
49. My virus scanner reports that MaraDNS or Deadwood
has a virus
.PP
50. I can not subscribe to the MaraDNS mailing
list
.PP
51. How does MaraDNS respond to EDNS (RFC2671) packets?
.PP
52. How to I get MaraDNS to always give the same IP to
all DNS queries?
.PP
53. Why did you change MaraDNS\(aq tagline?
.PP
54. How do you stop MaraDNS from taking part in a
distributed denial-of-service attack?
.PP
55. What about DNS-over-TCP?
.PP
56. How do I use MaraDNS with systemd?
.PP
57. Why doesn\(aqt MaraDNS use IP_FREEBIND?
.PP
58. Is there a web interface for MaraDNS?
.PP
59. What does the message “don’t forget the trailing
dot” mean?
.PP
60. Does MaraDNS support newer top level domains?
.PP
61. Can MaraDNS handle IDN domain names?
.RE
.PP
.PP
.in -3
\fBANSWERS\fR
.PP
.PP
.in -3
\fB1. I\(aqm using an older version of MaraDNS\fR
.PP
Upgrade to MaraDNS 2.0.
Here is an upgrade guide.
.PP
MaraDNS 1 is no longer supported; support ended on
June 21, 2015.
.PP
.in -3
\fB2. How do I try out MaraDNS?\fR
.PP
.PP
Read the quick
start guide, which is the file named 0QuickStart in the MaraDNS
distribution.
.PP
.PP
.in -3
\fB3. What license is MaraDNS released under?\fR
.PP
MaraDNS is released with the following two-clause
BSD-type license:
.PP
.RS 4
Copyright (c) 2002-2016 Sam Trenholme and others
.PP
TERMS
.PP
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
.PP
1. Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
.PP
2. Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.
.PP
This software is provided \(aqas is\(aq with no guarantees of
correctness or
fitness for purpose.
.RE
.PP
.PP
.in -3
\fB4. How do I report bugs in MaraDNS?\fR
.PP
Post your bug report as a Github issue.
.PP
.in -3
\fB5. Some of the postings to the mailing list do not talk about
MaraDNS!\fR
.PP
As of September 2013, the mailing list has become moderated and
only postings on the mailing list are relevant MaraDNS announcements.
.PP
.in -3
\fB6. How do I get off the mailing list?\fR
.PP
Send an email to list-unsubscribe@maradns.org, or an
email to list-request@maradns.org with "unsubscribe" as the
subject line.
.PP
The mailing list will send you an email confirming the unsubscribe
request;
this email needs to be replied to in order to get off the list.
.PP
.in -3
\fB7. How do I set up reverse DNS on MaraDNS?\fR
.PP
Reverse DNS (sometimes called "reverse mapping") is set up by using
PTR (pointer) records. For example, the PTR record which performs
the reverse DNS lookup for the ip 10.2.3.4 looks like this in a CSV2
zone
file:
.PP
.RS 4
4.3.2.10.in-addr.arpa. PTR www.example.com.
.RE
.PP
.PP
It is also possible to use a special "FQDN4" which automatically sets
up
the reverse mapping of a given record:
.PP
.RS 4
www.example.com. FQDN4 10.2.3.4
.RE
.PP
If you wish to have a PTR (reverse DNS lookup; getting a DNS name from
a
numeric IP) record work on the internet at large, it is not a simple
matter of just adding a record like this to a MaraDNS zonefile. One
also
needs control of the appropriate in-addr.arpa. domain.
.PP
While it could make logical sense to contact the IP 10.11.12.13 when
trying
to get the reverse DNS lookup (fully qualified domain name) for a given
IP, DNS servers don\(aqt do this. DNS server, instead, contact the root
DNS servers for a given in-addr.arpa name to get the reverse DNS
lookup,
just like they do with any other record type.
.PP
When an internet service provider is given a block of IPs, they are
also
given control of the DNS zones which allow them to control reverse DNS
lookups for those IPs. While it is possible to obtain a domain and run
a DNS server without the knowledge or intervention of an ISP, being
able to control reverse DNS lookups for those IPs requires ISP
intervention.
.PP
.in -3
\fB8. I am on a slow network, and Deadwood can not process recursive
queries\fR
.PP
Deadwood, by default, only waits two seconds for a reply from a remote
DNS server. This default can be increased by adding a line like this
in the mararc file:
.PP
.RS 4

.nf
timeout_seconds = 5
.fi

.RE
.PP
Note that making this too high will slow MaraDNS down when DNS servers
are down, which is, alas, all too common on today\(aqs internet.
.PP
.in -3
\fB9. When I try to run MaraDNS, I get a cryptic error message.\fR
.PP
There is usually some context of where there is a syntax error in a
data file before the cryptic error message. For example, when there
is a syntax error in a csv2 zone file, MaraDNS will tell you exactly
at what point it had to terminate parsing of the zone file.
.PP
If MaraDNS does return a cryptic error message without letting you know
what is wrong, let us know in a Github issue
so that we can fix the bug. MaraDNS is designed
to be easy to use; cryptic error messages go against this spirit.
.PP
.in -3
\fB10. After I start MaraDNS, I can not see the process when I run
netstat -na \fR
.PP
Udp services do not have a prominent "LISTEN" when netstat is run.
.PP
When MaraDNS is up, the relevant line in the netstat output looks
like this:
udp 0 0 127.0.0.1:53 0.0.0.0:*
.PP
While on the topic of netstat, if you run netstat -nap as root
on Linux and some other *nix operating systems, you can see the names
of
the processes which are providing internet services.
.PP
.in -3
\fB11. What string library does MaraDNS use?\fR
.PP
.PP
MaraDNS uses its own string library, which is called the "js_string"
library. Man pages for most of the functions in the js_string library
are in the folder doc/man of the MaraDNS
distribution
.PP
.in -3
\fB12. Why does MaraDNS use a multi-threaded model?\fR
.PP
.PP
MaraDNS 2.0 no longer uses threads.
.PP
It took me three years to rewrite MaraDNS\(aq recursive resolver
as a separate non-threaded daemon. This has been done, and now all
recursion
is done with Deadwood which does not need threads.
.PP
.in -3
\fB13. I feel that XXX feature should be added to MaraDNS\fR
.PP
.PP
There are no plans to add new features to MaraDNS or Deadwood at
this time.
.PP
.in -3
\fB14. I feel that MaraDNS should use another documentation format\fR
.PP
.PP
The reason that MaraDNS uses its own documentation format is to satisfy
both
the needs of translators to have a unified document format and my own
need to use a documentation format that is simple enough to be readily
understood and which I can add features on an
as needed basis.
.PP
The documentation format is essentially simplified HTML with some
special tags added to meet MaraDNS\(aq special needs.
.PP
This gives me more flexibility to adapt the documentation format to
changing needs. For example, when someone pointed out that it\(aqs not
a good idea to have man pages with hi-bit characters, it was a simple
matter
to add a new HIBIT tag which allows man pages to be without
hi-bit characters, and other document formats to retain hi-bit
characters.
.PP
Having a given program have its own documentation format is not
without precedent; Perl uses its own "pod" documentation format.
.PP
.in -3
\fB15. Is there any process I need to follow to add a patch to
MaraDNS?\fR
.PP
.PP
I no longer accept
third party patches
.PP
.in -3
\fB16. Can MaraDNS act as a primary nameserver?\fR
.PP
.PP
Yes.
.PP
The zoneserver program serves zones so that other DNS servers
can be secondaries for zones which MaraDNS serves. This is a separate
program from the maradns server, which processes
authoritative UDP DNS queries, and Deadwood which processes recursive
DNS queries.
.PP
See the DNS
master document in the MaraDNS tutorial for details.
.PP
.in -3
\fB17. Can MaraDNS act as a secondary nameserver?\fR
.PP
.PP
Yes.
.PP
Please read the
DNS slave document, which is part of the MaraDNS tutorial.
.PP
.in -3
\fB18. What is the difference between an authoritative and a recursive
DNS server?\fR
.PP
A recursive DNS server is a DNS server that is able to contact other
DNS
servers in order to resolve a given domain name label. This is the kind
of DNS server one points to in /etc/resolv.conf. MaraDNS uses
the Deadwood daemon to process recursive DNS queries.
.PP
An authoritative DNS server is a DNS server that a recursive server
contacts in order to find out the answer to a given DNS query. The
maradns daemon processes authoritative DNS queries.
.PP
.in -3
\fB19. The fetchzone client isn\(aqt allowing me to add certain
hostnames to my zone\fR
.PP
For security reasons, MaraDNS\(aq fetchzone client does not
add records which are not part of the zone in question. For example,
if someone has a zone for example.com, and this record in the zone:
.PP
1.1.1.10.in-addr.arpa. PTR dns.example.com.
.PP
MaraDNS will not add the record, since the record is out-of-bailiwick.
In
other words, it is a host name that does not end in .example.com.
.PP
There are two workarounds for this issue:
.TP 2
*
Create a zone file for 1.1.10.in-addr.arpa., and put the PTR records
there.
.TP 2
*
Use rcp, rsync, or another method to copy over the zone files in
question.
.PP
.PP
.in -3
\fB20. Is MaraDNS portable?\fR
.PP
.PP
MaraDNS is developed in CentOS 6 and Windows 7.
MaraDNS may or may not compile and run on other systems.
.PP
.in -3
\fB21. Can I use MaraDNS in Windows?\fR
.PP
.PP
Yes. There is both a partial mingw32 (native win32 binary) port and a
full
Cygwin port of MaraDNS; both of these ports are part of the native
build
of MaraDNS. Deadwood has full Windows support, including the ability to
run as a service.
.PP
.in -3
\fB22. MaraDNS freezes up after being used for a while\fR
.PP
.PP
If using your ISP\(aqs name servers or some other name servers which
are not, in fact, root name servers, please make sure that you are
using the upstream_servers dictionary variable instead of the
root_servers dictionary variable.
.PP
If you still see MaraDNS freeze up after making this correction, please
send a bug report as a Github
issue.
.PP
.in -3
\fB23. What kind of Python integration does MaraDNS have\fR
.PP
The mararc file uses the same syntax that Python uses; in fact, Python
can parse a properly formatted mararc file.
.PP
There is no other integration with Python.
.PP
.in -3
\fB24. Doesn\(aqt "kvar" mean "four" in Esperanto?\fR
.PP
Indeed, it does. However the use of "kvar" in the MaraDNS source
code only coincidentally is an Esperanto word. "kvar" is short
for "Kiwi variable"; a lot of the parsing code comes from the code
used in the Kiwi spam filter project.
.PP
.in -3
\fB25. How scalable is MaraDNS?\fR
.PP
MaraDNS is optimized for serving a small number of domains as quickly
as possible. That said, MaraDNS is remarkably efficnent for serving a
large number of domains, as long as the server MaraDNS is on has the
memory to fit all of the domains, and as long as the startup time for
loading a large number of domains can be worked around.
.PP
The "big-O" or "theta" growth rates for various MaraDNS functions
are as follows, where N is the number of authoritative host names being
served:
.PP

.nf
Startup time                            N
Memory usage                            N
Processing incoming DNS requests        1
.fi
.PP
As can be seen, MaraDNS will process 1 or 100000 domains in the same
amount
of time, once the domain names are loaded in to memory.
.PP
.in -3
\fB26. I am having problems setting upstream_servers\fR
.PP
upstream_servers is only supported by Deadwood, and is no
longer supported in MaraDNS 2.0.
The upstream_servers dwood3rc variable is set thusly:
.PP
.RS 4
upstream_servers["."] = "10.3.28.79, 10.2.19.83"
.RE
.PP
Note the ["."].
.PP
Note that the upstream_servers variable needs to be initialized
before being used via upstream_servers = {} (the reason for this
is so that a dwood3rc file has 100% Python-compatible syntax). A
complete
dwood3rc file that uses upstream_servers may look like this:

.nf
ipv4_bind_addresses = "127.0.0.1"
chroot_dir = "/etc/maradns"
recursive_acl = "127.0.0.1/8"
upstream_servers = {}
upstream_servers["."] = "10.1.2.3, 10.2.4.6"
.fi
.PP

.in -3
\fB27. Why doesn\(aqt the MaraDNS.org web page validate?\fR
.PP
HTML pages on the MaraDNS.org web site should validate as
HTML 4.0 Transitional. However, the CSS will not validate.
.PP
I have designed MaraDNS\(aq web page to be usable and as attractive as
possible
in any major browser released in the last ten years. Cross-browser
support
is more important than strict W3
validation. The reason why the CSS does not validate is because
I need a way to make sure there is always a scrollbar on the web page,
even if the content is not big enough to merit one; this is to avoid
the
content jumping from page to page. There is no standard
CSS tag that lets me do this. I\(aqm using a non-standard tag to enable
this in Gecko (Firefox\(aqs rendering engine); this is enabled by
default in
Trident (Internet Explorer\(aqs rendering engine). The standards are
deficient
and blind adherence to them would result in an inferior web site.
.PP
There are also two validation warnings generated by redefinitions which
are needed as part of the CSS filters used to make the site attractive
on
older browsers with limited CSS support.
.PP
On a related note, the reason why I use tables instead of CSS for some
of
the layout is because Microsoft Internet Explorer 6 and other browsers
do
not have support for the max-width CSS property. Without this
property, the web page will not scale down correctly without using
tables.
Additionally, tables allow a reasonably attractive header in browsers
without CSS support.
.PP
.in -3
\fB28. How do MX records work?\fR
.PP
How MX records work:
.TP 2
*
The mail transport agent (Sendmail, Postfix, Qmail, MS Exchange, etc.)
looks up the MX record for the domain
.TP 2
*
For each of the records returned, the MTA (mail transport agent) looks
up the IP for the names.
.TP 2
*
It will choose, at random, any of the MXes with the lowest priority
number.
.TP 2
*
Should that server fail, it will try another server with the same
priority number.
.TP 2
*
Should all MX records with a given priority number fail, the MTA will
try sending email to any of the MX records with the second-lowest
priority value.
.PP
As an aside, do not have MX records point to CNAMEs.
.PP
.in -3
\fB29. Does MaraDNS have support for SPF?\fR
.PP
SPF, or sender policy framework, is method of using DNS that makes
it more difficult to forge email. MaraDNS has full support for SPF,
both via TXT records and RFC4408 SPF records.
.PP
SPF configuration is beyond the scope of MaraDNS\(aq documentation.
However,
at the time this FAQ entry was last updated (July, 2013), information
and documentation concerning SPF is available at
http://openspf.org. The BIND examples
will work in MaraDNS csv2 zone files as long as the double quotes (")
are
replaced by single quotes (\(aq). For example, a SPF TXT record that
looks like example.net. IN TXT "v=spf1 +mx a:colo.example.com/28 -all"
in a BIND zone file will look like
example.net. TXT \(aqv=spf1 +mx a:colo.example.com/28 -all\(aq in a
MaraDNS zone file. MaraDNS can also make
the corresponding SPF record, which will have the syntax
example.net. SPF \(aqv=spf1 +mx a:colo.example.com/28 -all\(aq.
.PP
Use \(aq\\x7e\(aq to put a tilde ("~" character) in a SPF record:
.PP
example.com. SPF \(aqv=spf1 +mx a:colo.example.com/28
\(aq\\x7e\(aqall\(aq
.PP
.in -3
\fB30. I\(aqm having problems resolving CNAMES I have set up.\fR
.PP
This is probably because you have set up what MaraDNS calls a dangling
CNAME
record.
.PP
Let us suppose we have a CNAME record without an A record in the local
DNS server\(aqs database, such as:

.nf
	google.example.com. CNAME www.google.com.
.fi
.PP
This record, which is a CNAME record for "google.example.com", points
to "www.google.com". Some DNS servers will recursively look up
www.google.com, and render the above record like this:

.nf
	google.example.com. CNAME www.google.com.
	www.google.com. A 66.102.7.104
.fi
.PP
For security reasons, MaraDNS doesn\(aqt do this. Instead, MaraDNS will
simply
output:

.nf
	google.example.com. CNAME www.google.com.
.fi

Some stub resolvers will be unable to resolve google.example.com as
a consequence.
.PP
If you set up MaraDNS to resolve CNAMEs thusly, you will get a warning
in your logs about having a dangling CNAME record.
.PP
If you want to remove these warnings, add the following to your mararc
file:

.nf
	no_cname_warnings = 1
.fi
.PP
Information about how to get MaraDNS to resolve dangling CNAME
records is in the tutorial file dangling.html
.PP
.in -3
\fB31. I have a NS delegation, and MaraDNS is doing strange things.\fR
.PP
This is only an issue in MaraDNS 1.4. MaraDNS 2.0 does not allow
the same IP to both authoritatively and recursively resolve records.
.PP
.in -3
\fB32. I am transferring a zone from another server, but the NS records
are these strange "synth-ip" records. \fR
.PP
MaraDNS expects, in csv2 zone files, for all
delegation NS records to be between the SOA record and the first
non-NS record.
.PP
If a zone looks like this:

.nf
example.net. +600 soa ns1.example.net. 
hostmaster@example.net 10 10800 3600 604800 1080
example.net. +600 mx 10 mail.example.net.
example.net. +600 a 10.2.3.5
example.net. +600 ns ns1.example.net.
example.net. +600 ns ns3.example.net.
mail.example.net. +600 a 10.2.3.7
www.example.net. +600 a 10.2.3.11
.fi

Then the NS records will be "synth-ip" records.
.PP
The zone should look like this:

.nf
example.net. +600 soa ns1.example.net. 
hostmaster@example.net 10 10800 3600 604800 1080
example.net. +600 ns ns1.example.net.
example.net. +600 ns ns3.example.net.
example.net. +600 mx 10 mail.example.net.
example.net. +600 a 10.2.3.5
mail.example.net. +600 a 10.2.3.7
www.example.net. +600 a 10.2.3.11
.fi

This will remove the "synth-ip" records.
.PP
To automate this process, this awk script is useful:

.nf
fetchzone whatever.zone.foo 10.1.2.3 | awk \(aq
{if($3 ~ /ns/ || $3 ~ /soa/){print}
else{a = a "\\n" $0}}
END{print a}\(aq > zonefile.csv2
.fi

Replace "whatever.zone.foo" with the name of the zone you are
fetchin 10.1.2.3 with the IP address of the DNS master, and
zonefile.csv2 with the name of the zone file MaraDNS loads.
.PP
.in -3
\fB33. Where is the root.hints file?\fR
.PP
MaraDNS (actually, Deadwood), unlike BIND, does not need a complicated
root.hints file in order to have custom root servers. In order to
change
the root.hints file, add something like this to your dwood3rc file:

.nf
root_servers["."] =  "131.161.247.232,"
root_servers["."] += "208.185.249.250,"
root_servers["."] += "66.227.42.140,"
root_servers["."] += "66.227.42.149,"
root_servers["."] += "65.243.92.254"
.fi

Note that there is no "+=" in the first line, and the last line does
not
have a comma at the end. Read the recursive tutorial document for more
information.
.PP
.in -3
\fB34. Are there any plans to use autoconf to build MaraDNS?\fR
.PP
No.
.PP
In more detail, MaraDNS does not use autoconf for the following
reasons:
.TP 2
*
Autoconf is designed to solve a problem that existed in the mid 1990s
but does not exist today: A large number of different incompatible C
compilers and libc implementations. These days, most systems are using
gcc as the compiler and some version of glibc as the libc. There is
no longer a need, for example, to figure out whether a given
implementation of getopt() allows \(aq--\(aq options.
MaraDNS\(aqs ./configure script can be run in only a second or
two; compare this to the 3-5 minute process autoconf\(aqs ./configure
needs.
.TP 2
*
Autoconf leaves GPL-tained files in a program\(aqs build tree. MaraDNS
is
licensed under a BSD license that is
.I "not"
GPL-compatible, so
MaraDNS can not be distributed with these GPL-licensed files.
.PP
This leads us to the next question:
.PP
.in -3
\fB35. How do I change the compiler or compile-time flags with
MaraDNS\(aq build process?\fR
.PP
To change the compiler used by MaraDNS:
.TP 2
*
Run the ./configure script
.TP 2
*
Open up the file Makefile with an editor
.TP 2
*
Look for a line that starts with CC
.TP 2
*
If there is no line that starts with CC, create one just before
the line that starts with FLAGS
.TP 2
*
Change (or create) that line to look something like CC=gcc296
In this example, the 2.96 version of gcc is used to compile MaraDNS.
.TP 2
*
Note that it is important to
.B "not"
remove anything from this line
you do not understand; doing so will make MaraDNS unable to compile
or run. So, if the CC line looks like
CC=gcc&nbsp;$(LDFLAGS)&nbsp;-DNO_FLOCK and you want to compile
with gcc 2.96, change the line to look like
CC=gcc296&nbsp;$(LDFLAGS)&nbsp;-DNO_FLOCK retaining the flags
added by the configuration script.
.PP
Changing compile-time flags is a similar process:
.TP 2
*
Run the ./configure script
.TP 2
*
Open up the file Makefile with an editor
.TP 2
*
Look for a line that starts with FLAGS
.TP 2
*
Change (or create) that line to look something like FLAGS=-O3
In this example, MaraDNS is compiled with the -O3 option.
.TP 2
*
Note that it is important to
.B "not"
remove anything from this line
you do not understand; doing so will make MaraDNS unable to compile
or run. So, if the FLAGS line looks like
FLAGS=-O2&nbsp;-Wall&nbsp;-DSELECT_PROBLEM and you want to compile
at optimization level three, change this line to look like
FLAGS=-O2&nbsp;-Wall&nbsp;-DSELECT_PROBLEM retaining the flags
added by the configuration script. -DSELECT_PROBLEM for example,
is needed in the Linux compile or MaraDNS will have problems with
freezing up.
.PP
.PP
.in -3
\fB36. Will you make a package for the particular Linux distribution I
am using?\fR
.PP
No.
.PP
There is, however, a CentOS 5-compatible RPM spec file in the build
directory.
.PP
.in -3
\fB37. I am using the native Windows port of MaraDNS, and some features
are not working.\fR
.PP
Since Windows 32 does not have some features that *NIX OSes have, the
native
Windows port does not have all of the features of the *NIX version of
MaraDNS. In particular, the following features are disabled:
.TP 2
*
ipv6 (this is actually a mingw32, not a Windows deficiency)
.TP 2
*
The chroot_dir mararc variable
.TP 2
*
The maradns_gid and maradns_uid mararc variables
.TP 2
*
The maxprocs mararc variable
.TP 2
*
The synth_soa_serial variable can not have a value of 2
.TP 2
*
There is no DNS-over-TCP support
.PP
If any of the above features are desired, try compiling MaraDNS using
Cygwin. Note that the Cygwin port of MaraDNS does not have ipv6
support,
and that while chroot_dir works in Cygwin, it does not have
the security that the *NIX chroot() call has.
.PP
.in -3
\fB38. MaraDNS isn\(aqt starting up\fR
.PP
This is usually caused by a syntax error in one\(aqs mararc file, or by
another MaraDNS process already running. To see what is happening, look
at your system log (/var/log/messages in Centos 3) to see what
errors MaraDNS reports. If you do not know how to look at a system
log, you can also invoke MaraDNS from the command line as root; any
errors
will be visible when starting MaraDNS.
.PP
.in -3
\fB39. You make a lot of releases of MaraDNS; at our ISP/IT department,
updating software is non-trivial.\fR
.PP
Regularly updating software is required to keep something as
complicated as a DNS server secure; there is not a DNS
server out there so secure that it never needs to be updated.
.PP
Since MaraDNS is finished, updates usually only happen about once a
year.
.PP
The last security bug which required a MaraDNS update was made before
September 28, 2015.
.PP
.in -3
\fB40. I have star records in my zones, and am having problems with
NXDOMAINs/IPV6 resolution\fR
.PP
This was a bug in MaraDNS 1.2 which has long since been fixed.
.PP
.in -3
\fB41. I have a zone with only SOA/NS records, and the zone is not
working.\fR
.PP
MaraDNS 1.2 had a bug where it did not correctly process zones without
any "normal" records. Upgrade to MaraDNS 2.0.
.PP
.in -3
\fB42. I am having problems registering my domain with AFNIC (the
registrar for .fr domains)\fR
.PP
Because of an issue with AFNIC (who, annoyingly enough, check the RA
bit
when registering a domain), in order to register a domain with AFNIC
using
MaraDNS as your DNS server, the following steps need to be followed:
.TP 2
*
MaraDNS version 1.4 or 2.0 needs to be used; if you\(aqre using an
older version of MaraDNS, upgrade.
.TP 2
*
It is necessary to have recursion disabled, if using MaraDNS 1.4,
either
by compiling MaraDNS without recursive support (./configure --authonly
; make),
or by making sure MaraDNS does not have recursion enabled (by not
having
recursive_acl set in one\(aqs MaraDNS 1.4 mararc file)
.PP
If one wishes to both register domains with AFNIC and use MaraDNS 1.4
as a
recursive DNS server, it is required to have the recursive server be a
separate instance of MaraDNS on a separate IP. It is not possible to
have
the same DNS server both send DNS packets in a way that both makes
AFNIC
happy and allows recursive queries.
.PP
Note also: AFNIC gives warnings about reverse DNS lookups; more
information about this issue can be found in the FAQ entry
about reverse DNS mappings (question 7). In addition, AFNIC
requires DNS-over-TCP to work; information on configuring MaraDNS to
have this can be found in the DNS-over-TCP
tutorial.
.PP
.in -3
\fB43. I can\(aqt see the full answers for subdomains I have
delegated\fR
.PP
To have the subdomains be visible to MaraDNS 1.4 recursive nameservers,
add the following to your mararc file:
.PP
recurse_delegation = 1
.PP
.in -3
\fB44. MaraDNS 1 has a problem resolving a domain\fR
.PP
This issue should be fixed in MaraDNS 2.0.
.PP
Here\(aqs what happening: I have rewritten the recursive resolver for
MaraDNS.
The old code was always designed to be a placeholder until I wrote a
new
recursive resolver.
.PP
The new recursive resolver is called "Deadwood"; right now it\(aqs
fully
functional and part of MaraDNS 2.0. More information is here:
.PP
http://maradns.blogspot.com/search/label/Deadwood
.PP
http://maradns.samiam.org/deadwood/
.PP
Since the old recursive code is a bit difficult to maintain, and since
I
in the process of rewriting the recursive code, my rule is that I will
only
resolve security issues with MaraDNS 1.0\(aqs recursive resolver.
.PP
.PP
.in -3
\fB45. MaraDNS 1.2 had issues with NXDOMAINS and case sensitivity.\fR
.PP
There was a known bug in MaraDNS 1.2.12 where, should a client ask for
a non-existent record in all caps, MaraDNS 1.2.12 will return a
NXDOMAIN
instead of a "not there" reply. Upgrade to 2.0.
.PP
.in -3
\fB46. Can MaraDNS offer protection from phishing and malicious
sites?\fR
.PP
Deadwood can block up to about 20,000 domains.
More details are in the
Deadwood FAQ.
.PP
.in -3
\fB47. Does maradns support star (wildcard) records?\fR
.PP
Yes.
.PP
MaraDNS supports both having stars at the beginning of records and the
end of records. For example, to have
.IR "anything" ".example.com."
have
the IP 10.1.2.3, add this line to the zone file for example.com:
.PP
*.example.com. A 10.1.2.3
.PP
To have stars at the end of records, csv2_default_zonefile has to
be set. The mararc parameter bind_star_handling affects how
star records are handled. More information is in the mararc man page.
.PP
.in -3
\fB48. I\(aqm having problems using MaraDNS with some *NIX command line
applications like telnet.\fR
.PP
Some *NIX command line networking applications, such as telnet and ssh,
try to do either a reverse DNS lookup (IP-to-host name conversion) or
an
IPv6 lookup. This slows things down and sometimes causes the
applications
to not work at all.
.PP
For people who do not need IPv6 lookups, add the following line to
one\(aqs mararc file to have MaraDNS respond to all IPv6 lookups with a
bogus "not found" reply:
.PP
reject_aaaa = 1
.PP
If knowing the hostname a given IP has isn\(aqt important, these kinds
of lookups
can also be disabled:
.PP
reject_ptr = 1
.PP
.in -3
\fB49. My virus scanner reports that MaraDNS or Deadwood has a virus\fR
.PP
This can be caused either by a poorly written anti-virus program
reporting
a false positive, or because a virus on your system has infected your
copy
of MaraDNS/Deadwood.
.PP
Please use GPG to verify that the
file which your scanner reports having a virus in has not been altered.
In addition, please scan the file with AVG (free for non-commercial
use)
to verify your virus scanner has not reported a false positive.
.PP
If you have verified the GPG signature of the program and AVG reports a
virus, please let us know with a
Github issue.
Otherwise, please
use a better virus scanner and make sure there are no viruses on your
computer.
.PP
.in -3
\fB50. I can not subscribe to the MaraDNS mailing list\fR
.PP
.I "Please note that the mailing list is no longer used to handle MaraDNS support requests. Please file a Github issue at https://github.com/samboy/MaraDNS/issues to file a MaraDNS bug report."
.PP
The procedure for subscribing to the mailing list is as follows:
.TP 2
*
Send an email to list-request@maradns.org with "Subscribe" as the
subject,
or an email to list-subscribe@maradns.org
.TP 2
*
You will get an email from list-request@maradns.org asking you to
confirm your subscription. This can be done by replying to the
message, or, more simply, by clicking on the link in the message.
.TP 2
*
Once you click on that link, click on the button marked
"subscribe to list list"
.TP 2
*
You will now get a message stating \(aqWelcome to the "list" mailing
list\(aq.
.TP 2
*
Note that the mailing list is moderated and only relevant MaraDNS
announcements are approved. People who need help should
read the manuals
or search the MaraDNS
webpage for support.
.PP
If you get an email from list-request@maradns.org with the subject
"The results of your email commands", you did not correctly send an
email to list-request@maradns.org with the subject "Subscribe".
.PP
If you do not get the email from list-request@maradns.org asking you
for
a confirmation, ensure that this email is not in your "spam" or "junk
mail" folder. If you are unable to get these emails at your email
address,
please get a gmail email account, which can successfully subscribe to
the
MaraDNS mailing list. Note that subscription confirmation emails
may be in Gmail\(aqs "promotions" tab.
.PP
.in -3
\fB51. How does MaraDNS respond to EDNS (RFC2671) packets?\fR
.PP
MaraDNS 2 (both the authoritative maradns server and the recursive
Deadwood server) responds to EDNS packets by ignoring the OPT record
and acting as if it the packet did not have an OPT record.
.PP
MicroDNS (available
in the tools/misc directory of any MaraDNS 2 release)
responds to EDNS queries the same way Deadwood 2.9.03 did:
By giving back "NOTIMPL" instead of answering the query with the
default IP. NanoDNS, in the
interest of minimizing code side, responds to EDNS requests by
returning
NOTIMPL in the header, giving the OPT query in the AN section of the
response, and giving the default IP in the AR section of the DNS
reply packet.
.PP
.in -3
\fB52. How to I get MaraDNS to always give the same IP to all DNS
queries?\fR
.PP
There are three ways to have MaraDNS always give the same IP in reply
to any DNS query given to it:
.TP 2
*
The best way to do this is to set up a default zonefile
that causes any and all A queries to always give the IP (and also
allows
all AAAA queries to always give out the same IP6, all SPF or TXT
queries
to give out the same SPF record, etc.).
.TP 2
*
Another possibility, if someone just wants a simple DNS server that
always gives out the same IP address to any and all DNS queries, is
to use the MicroDNS program, available in tools/misc, as well
as having its own
web page.
.TP 2
*
If MicroDNS is too bloated, there is also NanoDNS, which
I will include the source code of below:
.PP

.nf
/*Placed in the public domain by Sam Trenholme*/
#include <arpa/inet.h>
#include <string.h>
#include <stdint.h>
#define Z struct sockaddr
#define Y sizeof(d)
int main(int a,char **b){uint32_t i;char q[512]
,p[17]="\\xc0\\f\\0\\x01\\0\\x01\\0\\0\\0\\0\\0\\x04";if(a>
1){struct sockaddr_in d;socklen_t f=511;bzero(&
d,Y);a=socket(AF_INET,SOCK_DGRAM,0);*((uint32_t
*)(p+12))=inet_addr(b[1]);d.sin_family=AF_INET;
d.sin_port=htons(53);bind(a,(Z*)&d,Y);for(;;){i
=recvfrom(a,q,255,0,(Z*)&d,&f);if(i>9&&q[2]>=0)
{q[2]|=128;q[11]?q[3]|=4:1;q[7]++;memcpy(q+i,p,
16);sendto(a,q,i+16,0,(Z*)&d,Y);}}}return 0;}
.fi

NanoDNS takes one argument: The IP we return. This program binds to all
IP addresses a given machine has on the UDP DNS port (port 53). For
example,
to make a DNS server that binds to all IPs your system has and return
the
IP 10.11.12.13 to any UDP DNS queries sent to it, compile the above C
program,
call it NanoDNS, and invoke it with NanoDNS 10.11.12.13
Note that NanoDNS does not daemonize, nor log anything, nor have any
other
space-wasting features.
.PP
.PP
.in -3
\fBWhy did you change MaraDNS\(aq tagline?\fR
.PP
I have changed MaraDNS\(aq tagline from "MaraDNS: A
security-aware DNS server" to "MaraDNS: A small open-source DNS server"
because MaraDNS does not support DNSSEC. I have blogged about this:
.PP
.RS 4
http://samiam.org/blog/20120326.html
.RE
.PP
.PP
.in -3
\fBHow do you stop MaraDNS from taking part in a distributed
denial-of-service attack?\fR
.PP
While
I do not have time to implement rate limiting,
CentOS 6 does support response rate limiting at the firewall level.
The following iptables commands allow a given IP to
only send MaraDNS/Deadwood 20 DNS queries every four seconds:
.PP
iptables -A INPUT -p udp --dport 53 -m state --state NEW -m recent
--set --name DDOS --rsource
.br
.PP
iptables -A INPUT -p udp --dport 53 -m state --state NEW -m recent
--update --seconds 4 --hitcount 20 --name DDOS --rsource -j DROP
.br
.PP
To verify they are applied:
.PP
iptables --list
.br
.PP
To save these commands in CentOS so they are applied at system boot
time:
.PP
iptables-save > /etc/sysconfig/iptables
.br
.PP
.I "Disclaimer"
.PP
These incantations work in CentOS 6 but may or may not work in other
versions of Linux. I do not support non-CentOS6 Linux installs of
MaraDNS.
.PP
.in -3
\fBWhat about DNS-over-TCP?\fR
.PP
For people who want DNS-over-TCP, instructions are
in the DNS-over-TCP
tutorial. Note that Windows users will have to use Cygwin to have
DNS-over-TCP.
.PP
However, DNS-over-TCP is not necessary. DNS-over-TCP is optional as per
section 6.1.3.2 of RFC1123; any program or web service that considers
no DNS-over-TCP an error is not RFC-compliant.
.PP
Not having DNS-over-TCP is more secure, because it gives attackers a
smaller surface to attack.
.PP
.in -3
\fBHow do I use MaraDNS with systemd?\fR
.PP
While I like systemd, it
is not part of CentOS 6 nor, obviously, Windows 7. That in mind, I have
no
plans to support systemd until 2017, when I plan to update MaraDNS\(aq
supported
operating systems.
.PP
However, Tomasz Torcz has
kindly made some systemd files for MaraDNS, which people are free to
use.
.PP
As an aside, I do not like the fact that Debian will probably not make
systemd
the default init; I do not think this kind of fragmentation is good
for Linux.
.PP
.in -3
\fBWhy doesn\(aqt MaraDNS use IP_FREEBIND?\fR
.PP
IP_FREEBIND is a non-POSIX Linux-specific extension
to POSIX\(aqs netinet/in.h,
and, as such, has no place in MaraDNS\(aq code. MaraDNS strives to use
POSIX-compliant calls so that it can compile on as many systems as
possible.
.PP
When I say that Windows 7 and CentOS 6 are the only supported operating
systems for MaraDNS, this does not mean that MaraDNS will not compile
and
run on other systems; it merely means that I can not provide
support for Github
bug reports for people who want to run MaraDNS in Minix, one of
the open-source BSD variants, or what not.
.PP
.in -3
\fBIs there a web interface for MaraDNS?\fR
.PP
The Kloxo-MR
control panel has MaraDNS support.
.PP
.in -3
\fBWhat does the message “don’t forget the trailing dot” mean?\fR
.PP
It means to not forget the tailing dot.
.PP
Hostnames in zone files need to be properly terminated; if a hostname
is in the form “foo.example.com”, this name will not parse and
return
an error with a note to not forget the trailing dot.
.PP
To fix this, put a trailing dot at the end of the hostname, so it
looks like “foo.example.com.” (observe that dot at the end) instead
of “foo.example.com”
.PP
.in -3
\fBDoes MaraDNS support newer top level domains?\fR
.PP
MaraDNS does not impose any limitations on the top level domain used
in zone files and other places, as is fully compatible with newer
top level domains like “today.”
.PP
Note that, if using an internationalized domain name, it needs
to be translated in to Punycode first. For example, if
using the domain name “ñ.com.”, it needs to be in the form
“xn--ida.com.” in MaraDNS’ mararc and zone files.
.PP
.in -3
\fBCan MaraDNS handle IDN domain names?\fR
.PP
Yes, but the internationalized domain name (IDN) needs
to be translated in to Punycode first. For example, if
using the domain name “ñ.com.”, it needs to be in the form
“xn--ida.com.” in MaraDNS’ mararc and zone files.
.PP
.SH "BUGS"
.PP
In the unusual case of having a csv2 zone file with Macintosh-style
newlines
(as opposed to DOS or UNIX newlines), while the file will parse, any
errors
in the file will be reported as being on line 1.
.PP
The system startup script included with MaraDNS assumes that the only
MaraDNS processes running are started by the script; it stops
.I "all"
MaraDNS processes running on the server when asked to stop MaraDNS.
.PP
MaraDNS needs to use the
.B "zoneserver"
program to serve DNS records
over TCP. See
.B "zoneserver(8)"
for usage information.
.PP
MaraDNS does not use the zone file ("master file") format specified in
chapter 5 of RFC1035; however bind2csv2.py can convert the majority
of such zone files.
.PP
MaraDNS default behavior with star records is not RFC-compliant.
In more detail,
if a wildcard MX record exists in the form "*.example.com", and
there is an A record for "www.example.com", but no MX record for
"www.example.com", the correct behavior (based on RFC1034
section 4.3.3)
is to return "no host" (nothing in the answer section, SOA in the
authority section, 0 result code) for a MX request to
"www.example.com".
Instead, MaraDNS returns the MX record attached to "*.example.com".
This can be changed by setting bind_star_handling to 1.
.PP
Star records (what RFC1034 calls "wildcards") can not be attached to
NS records.
.PP
MaraDNS, like every other known DNS implementation, only supports a
QDCOUNT of 0 or 1.
.SH "UNIMPLEMENTED FEATURES"
.PP
.I "These are features which I do not plan to implement in MaraDNS."
.PP
MaraDNS does not have a disk-based caching scheme for authoritative
zones.
.PP
MaraDNS\(aq UDP server only loads zone files while MaraDNS is first
started.
UDP Zone information can only be updated by stopping MaraDNS, and
restarting
MaraDNS again. Note that TCP zone files are loaded from the filesystem
at the time the client requests a zone.
.PP
MaraDNS does not have support for allowing given host names to only
resolve for a limited range of IPs querying the DNS server, or for host
names to resolve differently, depending on the IP querying the host
name.
.PP
MaraDNS only allows wildcards
at the beginning or end of a host name. E.g. names with wildcards like
"foo.*.example.com". "www.*" will work, however, if a default zonefile
is
set up. Likewise, MaraDNS does not have regular expression hostname
substitution.
.PP
MaraDNS does not have support for MRTG or any other SNMP-based logging
mechanism.
.SH "LEGAL DISCLAIMER"
.PP
THIS SOFTWARE IS PROVIDED BY THE AUTHORS \(aq\(aqAS IS\(aq\(aq AND ANY
EXPRESS
OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.SH "AUTHORS"
.PP
Sam Trenholme (http://www.samiam.org) is
responsible for this man page.
.PP
MaraDNS is written by me, Sam Trenholme, with a little help from my
friends. Naturally, all errors in MaraDNS are my own (but read the
disclaimer above).
.PP
Here is a partial list of people who have provided assistance:
.PP
Floh has generously set up a FreeBSD 4, FreeBSD 6, and Mac OS X system
so
that I can port MaraDNS to more platforms.
.PP
Albert Lee has provided countless bug reports, and, nicely enough,
patches
to fix said bugs. He has also made improvements to the code in the tcp
"zoneserver".
.PP
Franky Van Liedekerke has provided much invaluable assistance. As just
one
example, he provided invaluable assistance in getting MaraDNS to
compile on
Solaris. In addition, he has provided much valuable SQA help.
.PP
Christian Kurz, who has provided invaluable bug reports, especially
when I had to re-implement the core hashing algorithm.
.PP
Remmy, who is providing both the web space and a mailing list
for maradns.org.
.PP
Phil Homewood, who provided invaluable assistance with finding and
fixing
bugs in the authoritative portion of the MaraDNS server. He helped me
plug memory leaks, find uninitialized variables being used, and found a
number of bugs I was unable to find.
.PP
Albert Prats kindly provided Spanish translations for various text
files.
.PP
Shin Zukeran provided a patch to recursive.c which properly makes a
normal
null-terminated string from a js_string object, to send as an argument
to
open() so we can get the rijndael key for the PRNG.
.PP
D Richard Felker III has provided invaluable bug reports. By looking at
his
bug reports, I have been able to hunt down and fix many problems that
the
recursive nameserver had, in addition to at least one problem with the
authoritative nameserver.
.PP
Ole Tange has also given me many valuable MaraDNS bug reports.
.PP
Florin Iucha provided a tip in the FAQ for how to compile MaraDNS on
OpenBSD.
.PP
Roy Arends (one of the BIND developers, as it turns out) found a
serious
security problem with MaraDNS, where MaraDNS would answer answers, and
pointed it out to me.
.PP
Code used as the basis for the psudo-random-number generator was
written
by Vincent Rijmen, Antoon Bosselaers, and Paulo Barreto. I appreciate
these programmers making the code public domain, which is the only
license
under which I can add code to MaraDNS under.
.PP
Ross Johnson and others have made a Win32 port of the Pthreads library;
this has made a native win32 port of MaraDNS possible.
.PP
I also appreciate the work of Dr. Brian Gladman and Fritz Schneider,
who have both written independent implementations of AES from which I
obtained test vectors. With the help of their hard work, I was able to
discover a subtle security problem that previous releases of MaraDNS
had.

